!function(){var e,t;(t=(e=document.getElementById("main-navigation")||"").getElementsByTagName("ul")[0]).className.indexOf(!1)&&(t.className+=" nav-menu");var n=document.querySelectorAll(".site-menu .menu-toggle");for(i=0;i<n.length;++i)n[i].addEventListener("click",(function(e){a(e,this)})),n[i].addEventListener("keydown",(function(e){13===e.keyCode&&(a(e,this),r(this))}));function a(e,t){e.preventDefault();var n=t.childNodes[1].childNodes[1]||"";n.checked=!n.checked;var a=t.parentNode;a.classList.toggle("toggled"),document.body.classList.toggle("modal-open"),"true"===t.getAttribute("aria-expanded")?t.setAttribute("aria-expanded","false"):t.setAttribute("aria-expanded","true"),document.addEventListener("click",(function(e){for(var i=["LABEL","INPUT","A","I","svg"],c=!1,o=0;o<i.length;o++)i[o]==e.target.tagName&&(c=!0);c||(a.className=a.className.replace("toggled",""),t.setAttribute("aria-expanded","false"),n.checked=!1)}))}var c=t?t.getElementsByTagName("a"):"",o=document.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a");for(i=0,len=c.length;i<len;i++)c[i].addEventListener("focus",s,!0),c[i].addEventListener("blur",s,!0);for(i=0,len=o.length;i<len;i++)o[i].addEventListener("touchstart",s,!1);function s(e){if(!window.matchMedia("(max-width: 600px)").matches){if("focus"===e.type||"blur"===e.type)for(var t=this;-1===t.className.indexOf("nav-menu");)"li"===t.tagName.toLowerCase()&&(-1!==t.className.indexOf("focus")?t.className=t.className.replace(" focus",""):t.className+=" focus"),t=t.parentNode;if("touchstart"===e.type){var n=this.parentNode;for(e.preventDefault(),i=0;i<n.parentNode.children.length;++i){var a=n.parentNode.children[i];n!==a&&a.classList.remove("focus")}n.classList.toggle("focus")}}}function r(t){if(!window.matchMedia("(min-width: 600px)").matches){var n=e.querySelectorAll(".menu-toggle, .menu-item > a, .cart-contents, .search-item button"),a=n[0],i=n[n.length-1];e.addEventListener("keydown",(function(e){"false"!=t.getAttribute("aria-expanded")&&l(a,i,e)}))}}function d(){if(!window.matchMedia("(max-width: 600px)").matches){var e=this.querySelectorAll("input, .search-form button, .close"),t=e[0],n=e[e.length-1];this.addEventListener("keydown",(function(e){l(t,n,e)}))}}function l(e,t,n){"Tab"===n.key&&9===n.keyCode&&(n.shiftKey?document.activeElement===e&&(t.focus(),n.preventDefault()):document.activeElement==t&&(e.focus(),n.preventDefault()))}document.getElementById("search-open").addEventListener("keydown",d),document.querySelector("#search-open .close").addEventListener("keydown",(function(e){13===e.keyCode&&setTimeout((function(){document.querySelector(".search-item a").focus()}),100)})),document.querySelector("#search-open .close").addEventListener("click",(function(e){setTimeout((function(){document.querySelector(".search-item a").focus()}),100)}))}();